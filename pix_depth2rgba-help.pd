#N canvas 670 22 488 399 10;
#X text 16 20 for use with pix_freenect or pix_openni;
#X obj 288 105 gemwin;
#N canvas 769 438 441 178 freenect 0;
#X obj 24 44 gemhead 1;
#X obj 24 98 pix_freenect 0 1 1 0;
#N canvas 297 495 827 305 properties 0;
#X obj 95 235 outlet;
#X obj 3 -6 cnv 15 140 220 empty empty empty 20 12 0 14 -204800 -66577
0;
#X msg 8 178 led \$1;
#X obj 8 59 vradio 15 1 0 6 empty empty empty 0 -8 0 10 -262144 -1
-1 0;
#X floatatom 8 155 5 0 0 0 - - -;
#X msg 85 178 angle \$1;
#X obj 85 23 vsl 15 128 -30 30 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 0 1;
#X floatatom 85 159 5 0 0 0 - - -;
#X msg 85 -2 0;
#X text 24 73 GREEN;
#X text 25 57 OFF;
#X text 24 89 RED;
#X text 24 104 YELLOW;
#X text 24 119 BLINK_GR;
#X text 24 133 BLINK_R_Y;
#N canvas 278 516 894 267 video_modes 0;
#X msg 538 182 video_mode \$1;
#X obj 538 51 vradio 15 1 0 7 empty empty empty 0 -8 0 10 -262144 -1
-1 0;
#X floatatom 538 161 5 0 0 0 - - -;
#X msg 150 178 depth_mode \$1;
#X obj 150 50 vradio 15 1 0 6 empty empty empty 0 -8 0 10 -262144 -1
-1 0;
#X floatatom 150 160 5 0 0 0 - - -;
#X text 8 2 LIBFREENECT MODES:;
#X text 559 80 IR MODE;
#X text 559 51 RGB (use this);
#X obj 150 213 outlet;
#X text 125 2 this is just for experimenting...;
#X text 424 50 FREENECT_VIDEO_RGB;
#X text 412 65 FREENECT_VIDEO_BAYER;
#X text 394 79 FREENECT_VIDEO_IR_10BIT;
#X text 354 94 FREENECT_VIDEO_IR_10BIT_PACKED;
#X text 401 111 FREENECT_VIDEO_YUV_RGB;
#X text 401 125 FREENECT_VIDEO_YUV_RAW;
#X text 413 140 FREENECT_VIDEO_DUMMY;
#X text 24 48 FREENECT_DEPTH_11BIT;
#X text 24 63 FREENECT_DEPTH_10BIT;
#X text -19 78 FREENECT_DEPTH_11BIT_PACKED;
#X text -19 94 FREENECT_DEPTH_10BIT_PACKED;
#X text 42 123 FREENECT_DEPTH_MM;
#X text 67 27 DEPTH MODES;
#X text 520 26 RGB MODES;
#X text 149 27 !!also check depth_output!!;
#X obj 658 114 vradio 15 1 0 3 empty empty empty 0 -8 0 10 -262144
-1 -1 0;
#X floatatom 658 164 5 0 0 0 - - -;
#X msg 658 185 resolution \$1;
#X text 678 128 MEDIUM (default);
#X text 655 91 RGB RESOLUTION;
#X text 678 143 HIGH (restart rgb stream!);
#X text -6 109 FREENECT_DEPTH_REGISTERED;
#X text 678 113 LOW (not displaying correctly);
#X text 170 47 standard \, raw depth;
#X text 172 108 aligned to rgb \, output [mm];
#X text 171 122 unaligned \, output [mm];
#X connect 0 0 9 0;
#X connect 1 0 2 0;
#X connect 2 0 0 0;
#X connect 3 0 9 0;
#X connect 4 0 5 0;
#X connect 5 0 3 0;
#X connect 26 0 27 0;
#X connect 27 0 28 0;
#X connect 28 0 9 0;
#X restore 323 220 pd video_modes;
#X obj 149 84 cnv 15 320 120 empty empty empty 20 12 0 14 -4034 -66577
0;
#X obj 160 121 vradio 15 1 0 2 empty empty empty 0 -8 0 10 -262144
-1 -1 0;
#X floatatom 160 156 5 0 0 0 - - -;
#X obj 225 122 vradio 15 1 0 2 empty empty empty 0 -8 0 10 -262144
-1 -1 0;
#X floatatom 225 157 5 0 0 0 - - -;
#X msg 287 179 audio \$1;
#X obj 287 123 vradio 15 1 0 2 empty empty empty 0 -8 0 10 -262144
-1 -1 0;
#X floatatom 287 158 5 0 0 0 - - -;
#X msg 160 177 rgb \$1;
#X msg 225 178 depth \$1;
#X text 152 84 activate/deactivate streams;
#X text 306 120 OFF;
#X text 306 134 ON;
#X text 154 98 save cpu power by just activating necessary streams!
;
#X obj 477 85 cnv 15 315 120 empty empty empty 20 12 0 14 -232576 -66577
0;
#X obj 480 108 vradio 15 1 0 3 empty empty empty 0 -8 0 10 -262144
-1 -1 0;
#X floatatom 480 160 5 0 0 0 - - -;
#X msg 480 179 depth_output \$1;
#X text 500 106 Color -> best for visual representation;
#X text 501 122 Gray -> easy to handle;
#X text 502 137 Raw -> 11 bit output;
#X text 630 151 b = 0 \, a = 0;
#X text 631 169 ->for distance_measurement;
#X text 303 -23 properties for pix_freenect;
#X text 498 62 DEPTH OUTPUT;
#X text 171 63 STREAMS;
#X text 26 -25 LED \, ANGLE;
#X text 419 220 <- change between aligned depth output and so on...
;
#X text 628 137 r->3 msbits \, g ->8 lsbits;
#X connect 2 0 0 0;
#X connect 3 0 4 0;
#X connect 4 0 2 0;
#X connect 5 0 0 0;
#X connect 6 0 7 0;
#X connect 7 0 5 0;
#X connect 8 0 6 0;
#X connect 15 0 0 0;
#X connect 17 0 18 0;
#X connect 18 0 24 0;
#X connect 19 0 20 0;
#X connect 20 0 25 0;
#X connect 21 0 0 0;
#X connect 22 0 23 0;
#X connect 23 0 21 0;
#X connect 24 0 0 0;
#X connect 25 0 0 0;
#X connect 31 0 32 0;
#X connect 32 0 33 0;
#X connect 33 0 0 0;
#X restore -21 23 pd properties;
#X obj 141 71 gemhead 1;
#X obj 43 139 outlet;
#X obj -6 139 outlet;
#N canvas 0 22 364 224 init_trick 0;
#X obj 131 39 route 1;
#X obj 131 9 route gem_state;
#X obj 131 69 delay 500;
#X msg 131 103 accel;
#X obj 91 133 outlet;
#X obj 91 -15 inlet;
#X text 22 179 trigger the accelerometer output to start streaming
;
#X text 24 162 a little trick to start the streams;
#X connect 0 0 2 0;
#X connect 1 0 0 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 5 0 1 0;
#X connect 5 0 4 0;
#X restore 24 69 pd init_trick;
#X obj 253 13 loadbang;
#X msg 251 66 depth_mode 4;
#X text 335 66 aligned;
#X text 342 44 raw color;
#X msg 250 45 depth_output 2;
#X msg 251 110 depth_mode 0;
#X msg 248 131 depth_output 0;
#X obj 227 89 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X connect 0 0 6 0;
#X connect 1 0 5 0;
#X connect 1 1 4 0;
#X connect 2 0 1 0;
#X connect 3 0 1 1;
#X connect 6 0 1 0;
#X connect 7 0 11 0;
#X connect 7 0 8 0;
#X connect 8 0 1 0;
#X connect 11 0 1 0;
#X connect 12 0 1 0;
#X connect 13 0 1 0;
#X connect 14 0 12 0;
#X connect 14 0 13 0;
#X restore 20 110 pd freenect;
#X obj 123 152 tgl 15 0 empty empty mode 17 7 0 10 -262144 -1 -1 1
1;
#X obj 83 267 pix_texture;
#X obj 83 305 alpha;
#X msg 243 59 destroy;
#X obj 29 191 tgl 15 0 empty empty on/off 17 7 0 10 -262144 -1 -1 0
1;
#X msg 288 35 dimen 640 480 \, create \, 1;
#X obj 83 348 rectangle 4 3;
#X text 10 5 convert raw depth values into human viewable colorspace
;
#X text 170 144 0 -> 11 bit raw kinect data;
#X text 170 158 1 (default) -> 16 bit mm depth data;
#X obj 307 78 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 194 203 nbx 5 14 -1e+37 1e+37 0 0 empty empty max-distance-in-mm
0 -8 0 10 -262144 -1 -1 5000 256;
#X obj 83 226 pix_depth2rgba 5000;
#X text 220 230 arg: max distance to display in color;
#X text 231 250 use it to scale color gradient;
#X text 297 371 (C)2012 Matthias Kronlachner;
#X text 232 266 in mm!;
#X connect 2 1 15 0;
#X connect 3 0 15 1;
#X connect 4 0 5 0;
#X connect 5 0 9 0;
#X connect 6 0 1 0;
#X connect 7 0 15 0;
#X connect 8 0 1 0;
#X connect 13 0 1 0;
#X connect 14 0 15 2;
#X connect 15 0 4 0;
